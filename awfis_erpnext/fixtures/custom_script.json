[
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Lead", 
  "modified": "2016-04-12 16:21:46.808698", 
  "name": "Lead-Client", 
  "script": "var is_mobno_valid = false;\n\nfrappe.ui.form.on(\"Lead\", \"mobile_no\", function(frm){\n\tvar mobno = frm.doc.mobile_no;\n\tvar rx = new RegExp(\"^[789]\\\\d{9}$\"); \n\tvar isvalid = rx.test(mobno);\n\n\tif (isvalid == true) {\n          is_mobno_valid = true;\n\t} else {\n          is_mobno_valid = false;\n\t  msgprint(\"Entered Mobile No. is either incomplete or invalid. <br /> Tip: Add it without the +0 or +91 at the beginning.\", \"Invalid Mobile No\");\n\t}\n});\n\nfrappe.ui.form.on(\"Lead\", \"validate\", function(frm) {\n   if (!is_mobno_valid) {\n       msgprint(\"Entered Mobile No. is either incomplete or invalid. <br /> Tip: Add it without the +0 or +91 at the beginning.\", \"Invalid Mobile No\");\n      validated = false;\n   }\n\n});\n\nfrappe.ui.form.on(\"Lead\", \"source\", function(frm){\n\tfrm.set_query(\"channel_partner\", function() {\n    \treturn {\n\t\t\t\"filters\": {\n                \"partner_type\": \"Channel Partner\"\n            }\n        };\n \t});\n \n    frm.set_value(\"type\", \"Channel Partner\");\n \t\n});\n\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Sales Order", 
  "modified": "2016-04-11 10:34:45.331653", 
  "name": "Sales Order-Client", 
  "script": "frappe.ui.form.on(\"Sales Order\", \"territory\", function(frm){\n     frm.set_query(\"centre\", function() {\n\t        return {\n\t            \"filters\": {\n\t                \"city\": frm.doc.territory\n\t            }\n\t        };\n\t    });\n});\n\nfrappe.ui.form.on(\"Sales Order\", \"refresh\", function(frm){\n\tfrm.set_query(\"territory\", function() {\n    \treturn {\n\t\t\t\"filters\": {\n                \"parent_territory\": \"India\"\n            }\n        };\n \t});\n});", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Contact", 
  "modified": "2016-04-11 13:11:34.248650", 
  "name": "Contact-Client", 
  "script": "var is_mobno_valid = false;\n\nfrappe.ui.form.on(\"Contact\", \"mobile_no\", function(frm){\n\tvar mobno = frm.doc.mobile_no;\n\tvar rx = new RegExp(\"^[789]\\\\d{9}$\"); \n\tvar isvalid = rx.test(mobno);\n\n\tif (isvalid == true) {\n          is_mobno_valid = true;\n\t} else {\n          is_mobno_valid = false;\n\t  msgprint(\"Entered Mobile No. is either incomplete or invalid. <br /> Tip: Add it without the +0 or +91 at the beginning.\", \"Invalid Mobile No\");\n\t}\n});\n\nfrappe.ui.form.on(\"Contact\", \"validate\", function(frm) {\n   if (!is_mobno_valid) {\n       msgprint(\"Entered Mobile No. is either incomplete or invalid. <br /> Tip: Add it without the +0 or +91 at the beginning.\", \"Invalid Mobile No\");\n      validated = false;\n   }\n\n});\n", 
  "script_type": "Client"
 }, 
 {
  "docstatus": 0, 
  "doctype": "Custom Script", 
  "dt": "Opportunity", 
  "modified": "2016-04-12 16:34:35.609797", 
  "name": "Opportunity-Client", 
  "script": "frappe.ui.form.on(\"Opportunity\", \"city\", function(frm){\n     frm.set_query(\"centre\", function() {\n\t        return {\n\t            \"filters\": {\n\t                \"city\": frm.doc.city\n\t            }\n\t        };\n\t    });\n});\n\nfrappe.ui.form.on(\"Opportunity\", \"refresh\", function(frm){\n\tfrm.set_query(\"city\", function() {\n    \treturn {\n\t\t\t\"filters\": {\n                \"is_group\": 0\n            }\n        };\n \t});\n});\n\nfrappe.ui.form.on(\"Opportunity\", \"case_type\", function(frm){\n \tif (frm.doc.case_type == \"Query\" || frm.doc.case_type == \"Requirement\") {\n\t\tfrm.set_value(\"enquiry_type\", \"Sales\");\n\t} else if (frm.doc.case_type == \"Complaint\") {\n\t \tfrm.set_value(\"enquiry_type\", \"Maintenance\");\n \t}\n});", 
  "script_type": "Client"
 }
]